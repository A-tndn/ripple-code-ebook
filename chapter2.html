<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2: Cause, Carrier, Echo - The Ripple Code</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <nav class="chapter-nav">
            <a href="chapter1.html" class="prev">‚Üê Chapter 1</a>
            <a href="index.html" class="home">Home</a>
            <a href="chapter3.html" class="next">Chapter 3 ‚Üí</a>
        </nav>

        <header>
            <h1>Chapter 2: Cause, Carrier, Echo</h1>
            <p class="subtitle">The Secret Formula That Makes Every Ripple Work!</p>
        </header>

        <main>
            <section class="simple-intro">
                <h2>üîç The Magic Formula of Ripples</h2>

                <div class="simple-explanation">
                    <p>Remember the stone and water from Chapter 1? Let's break that down into the secret formula that ALL ripples follow!</p>

                    <div class="formula-demo">
                        <div class="formula-parts">
                            <div class="formula-part cause">
                                <div class="part-icon">üéØ</div>
                                <h3>CAUSE</h3>
                                <p>The stone you drop</p>
                            </div>

                            <div class="formula-arrow">‚Üí</div>

                            <div class="formula-part carrier">
                                <div class="part-icon">üåä</div>
                                <h3>CARRIER</h3>
                                <p>The water it travels through</p>
                            </div>

                            <div class="formula-arrow">‚Üí</div>

                            <div class="formula-part echo">
                                <div class="part-icon">üé™</div>
                                <h3>ECHO</h3>
                                <p>The circles that spread out</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="formula-magic">
                    <h3>‚ú® This Formula Works for EVERYTHING!</h3>
                    <p>Every single ripple in your life follows this exact pattern: <strong>Cause ‚Üí Carrier ‚Üí Echo</strong></p>
                    <div class="magic-highlight">Once you know this formula, you can understand ANY ripple!</div>
                </div>
            </section>

            <section class="detailed-breakdown">
                <h2>üî¨ Let's Look at Each Part</h2>

                <div class="breakdown-container">
                    <div class="breakdown-part cause-section">
                        <div class="part-header">
                            <div class="part-icon-large">üéØ</div>
                            <h3>CAUSE - The Starting Point</h3>
                        </div>
                        <div class="part-explanation">
                            <p>The CAUSE is whatever starts the ripple. It's like pressing the "GO" button!</p>
                            <div class="examples-list">
                                <h4>Examples of Causes:</h4>
                                <div class="example-items">
                                    <div class="example-item">üòä You smile at someone</div>
                                    <div class="example-item">üìù You write a kind note</div>
                                    <div class="example-item">ü§ù You help someone</div>
                                    <div class="example-item">üéµ You sing a happy song</div>
                                    <div class="example-item">üèÉ‚Äç‚ôÇÔ∏è You invite someone to play</div>
                                </div>
                            </div>
                            <div class="important-note">
                                <strong>üí° Important:</strong> Causes can be tiny! Sometimes the smallest action creates the biggest ripple!
                            </div>
                        </div>
                    </div>

                    <div class="breakdown-part carrier-section">
                        <div class="part-header">
                            <div class="part-icon-large">üåä</div>
                            <h3>CARRIER - The Highway</h3>
                        </div>
                        <div class="part-explanation">
                            <p>The CARRIER is what carries your ripple from you to others. It's like the highway your ripple travels on!</p>
                            <div class="examples-list">
                                <h4>Examples of Carriers:</h4>
                                <div class="example-items">
                                    <div class="example-item">üó£Ô∏è Your voice (when you speak)</div>
                                    <div class="example-item">üì± Text messages</div>
                                    <div class="example-item">üëÄ Eye contact and facial expressions</div>
                                    <div class="example-item">ü§ó Hugs and physical touch</div>
                                    <div class="example-item">üë• Other people (who pass on your message)</div>
                                </div>
                            </div>
                            <div class="important-note">
                                <strong>üí° Cool Fact:</strong> The same cause through different carriers can create totally different echoes!
                            </div>
                        </div>
                    </div>

                    <div class="breakdown-part echo-section">
                        <div class="part-header">
                            <div class="part-icon-large">üé™</div>
                            <h3>ECHO - The Response</h3>
                        </div>
                        <div class="part-explanation">
                            <p>The ECHO is what comes back to you! It's the response or result from your original cause.</p>
                            <div class="examples-list">
                                <h4>Examples of Echoes:</h4>
                                <div class="example-items">
                                    <div class="example-item">üòä Someone smiles back at you</div>
                                    <div class="example-item">üíå You get a thank-you note</div>
                                    <div class="example-item">üéâ Others start helping people too</div>
                                    <div class="example-item">üé∂ People start singing along</div>
                                    <div class="example-item">üë´ You make new friends</div>
                                </div>
                            </div>
                            <div class="important-note">
                                <strong>üí° Mystery:</strong> Echoes don't always come back right away - some take days or even weeks!
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="real-life-examples">
                <h2>üåü Real Life Ripple Stories</h2>

                <div class="story-cards">
                    <div class="story-card">
                        <h3>üìö The Homework Helper Ripple</h3>
                        <div class="story-breakdown">
                            <div class="story-cause">
                                <strong>CAUSE:</strong> Maya helps her friend Jake with math homework üßÆ
                            </div>
                            <div class="story-carrier">
                                <strong>CARRIER:</strong> Jake feels grateful and confident üí™
                            </div>
                            <div class="story-echo">
                                <strong>ECHO:</strong> Jake helps another classmate the next day, and soon the whole class is helping each other! üéâ
                            </div>
                        </div>
                        <div class="story-result">
                            <strong>Result:</strong> Maya's one act of kindness created a classroom full of helpers!
                        </div>
                    </div>

                    <div class="story-card">
                        <h3>üé® The Art Inspiration Ripple</h3>
                        <div class="story-breakdown">
                            <div class="story-cause">
                                <strong>CAUSE:</strong> Alex shares their cool drawing with friends üñºÔ∏è
                            </div>
                            <div class="story-carrier">
                                <strong>CARRIER:</strong> Friends see the art and feel inspired ‚ú®
                            </div>
                            <div class="story-echo">
                                <strong>ECHO:</strong> Three friends start drawing too, and they create an art club! üé≠
                            </div>
                        </div>
                        <div class="story-result">
                            <strong>Result:</strong> Alex's drawing rippled into a whole creative movement!
                        </div>
                    </div>

                    <div class="story-card">
                        <h3>üå± The Recycling Ripple</h3>
                        <div class="story-breakdown">
                            <div class="story-cause">
                                <strong>CAUSE:</strong> Emma starts bringing reusable water bottles to school ‚ôªÔ∏è
                            </div>
                            <div class="story-carrier">
                                <strong>CARRIER:</strong> Other kids notice and ask her about it üëÄ
                            </div>
                            <div class="story-echo">
                                <strong>ECHO:</strong> Soon half the class is using reusable bottles, and they start a recycling program! üåç
                            </div>
                        </div>
                        <div class="story-result">
                            <strong>Result:</strong> Emma's small choice helped save the planet!
                        </div>
                    </div>
                </div>
            </section>

            <section class="interactive-formula-game">
                <h2>üéÆ The Formula Detective Game</h2>

                <div class="game-interface">
                    <h3>Can You Spot the Cause, Carrier, and Echo?</h3>
                    <p>Read each scenario and identify the three parts of the ripple!</p>

                    <div class="scenario-container">
                        <div id="current-scenario" class="scenario-display">
                            <!-- Scenarios will be loaded here -->
                        </div>

                        <div class="answer-options">
                            <h4>What is the CAUSE?</h4>
                            <div id="cause-options" class="option-buttons"></div>

                            <h4>What is the CARRIER?</h4>
                            <div id="carrier-options" class="option-buttons"></div>

                            <h4>What is the ECHO?</h4>
                            <div id="echo-options" class="option-buttons"></div>

                            <button onclick="checkAnswers()" class="check-answer-btn">Check My Answers! üîç</button>
                        </div>

                        <div id="game-feedback" class="game-feedback"></div>
                        <div class="game-controls">
                            <button onclick="nextScenario()" class="next-scenario-btn">Next Scenario ‚Üí</button>
                            <div id="score-display" class="score-display">Score: 0/0</div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="carrier-types">
                <h2>üõ§Ô∏è Different Types of Carriers</h2>

                <div class="carrier-explanation">
                    <p>Not all carriers are the same! Some are fast, some are slow, some are strong, some are gentle.</p>

                    <div class="carrier-grid">
                        <div class="carrier-type fast">
                            <div class="carrier-icon">‚ö°</div>
                            <h3>Super Fast Carriers</h3>
                            <div class="carrier-examples">
                                <div class="carrier-example">üì± Text messages - instant!</div>
                                <div class="carrier-example">üëÄ Facial expressions - immediate!</div>
                                <div class="carrier-example">üó£Ô∏è Speaking - right now!</div>
                            </div>
                        </div>

                        <div class="carrier-type medium">
                            <div class="carrier-icon">üö∂‚Äç‚ôÇÔ∏è</div>
                            <h3>Medium Speed Carriers</h3>
                            <div class="carrier-examples">
                                <div class="carrier-example">üë• Word of mouth - spreads through people</div>
                                <div class="carrier-example">üìù Written notes - takes time to read</div>
                                <div class="carrier-example">üé® Art projects - people see them later</div>
                            </div>
                        </div>

                        <div class="carrier-type slow">
                            <div class="carrier-icon">üêå</div>
                            <h3>Slow But Strong Carriers</h3>
                            <div class="carrier-examples">
                                <div class="carrier-example">üìö Books - last forever but take time to spread</div>
                                <div class="carrier-example">üèÜ Reputation - builds slowly but lasts long</div>
                                <div class="carrier-example">üå± Habits - take time to form but create lasting echoes</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="carrier-insight">
                    <h3>üß† Smart Ripple Tip</h3>
                    <p>Choose your carrier based on what kind of echo you want:</p>
                    <div class="insight-list">
                        <div class="insight-item">üöÄ Want a quick echo? Use fast carriers!</div>
                        <div class="insight-item">üå∞ Want a lasting echo? Use slow but strong carriers!</div>
                        <div class="insight-item">üì¢ Want a wide echo? Use carriers that reach lots of people!</div>
                    </div>
                </div>
            </section>

            <section class="build-your-ripple">
                <h2>üîß Build Your Own Ripple</h2>

                <div class="ripple-builder">
                    <h3>The Ripple Builder Workshop</h3>
                    <p>Design your own ripple by choosing a cause, carrier, and predicting the echo!</p>

                    <div class="builder-steps">
                        <div class="builder-step">
                            <h4>Step 1: Choose Your CAUSE</h4>
                            <select id="cause-selector" class="selector">
                                <option value="">Pick a cause...</option>
                                <option value="compliment">Give someone a genuine compliment</option>
                                <option value="help">Help someone with a task</option>
                                <option value="share">Share something you love</option>
                                <option value="teach">Teach someone something new</option>
                                <option value="listen">Really listen to someone's story</option>
                                <option value="create">Create something beautiful</option>
                            </select>
                        </div>

                        <div class="builder-step">
                            <h4>Step 2: Choose Your CARRIER</h4>
                            <select id="carrier-selector" class="selector">
                                <option value="">Pick a carrier...</option>
                                <option value="face-to-face">Face-to-face conversation</option>
                                <option value="text">Text message</option>
                                <option value="note">Handwritten note</option>
                                <option value="group">In front of a group</option>
                                <option value="social">Social media post</option>
                                <option value="action">Through your actions</option>
                            </select>
                        </div>

                        <div class="builder-step">
                            <h4>Step 3: Predict Your ECHO</h4>
                            <textarea id="echo-prediction" placeholder="What do you think will happen? How will people respond?" class="prediction-input"></textarea>
                        </div>

                        <button onclick="buildRipple()" class="build-ripple-btn">Build My Ripple! ‚ö°</button>
                    </div>

                    <div id="ripple-blueprint" class="ripple-blueprint"></div>
                </div>
            </section>

            <section class="chapter-summary">
                <h2>üìù What We Learned About the Formula</h2>

                <div class="summary-formula">
                    <div class="formula-recap">
                        <div class="recap-part cause-recap">
                            <div class="recap-icon">üéØ</div>
                            <h4>CAUSE</h4>
                            <p>Your starting action</p>
                        </div>
                        <div class="recap-arrow">‚Üí</div>
                        <div class="recap-part carrier-recap">
                            <div class="recap-icon">üåä</div>
                            <h4>CARRIER</h4>
                            <p>How it travels</p>
                        </div>
                        <div class="recap-arrow">‚Üí</div>
                        <div class="recap-part echo-recap">
                            <div class="recap-icon">üé™</div>
                            <h4>ECHO</h4>
                            <p>What comes back</p>
                        </div>
                    </div>
                </div>

                <div class="key-learnings">
                    <div class="learning-point">
                        <div class="learning-icon">‚úÖ</div>
                        <p>Every ripple follows the same formula: Cause ‚Üí Carrier ‚Üí Echo</p>
                    </div>
                    <div class="learning-point">
                        <div class="learning-icon">‚úÖ</div>
                        <p>Small causes can create big echoes!</p>
                    </div>
                    <div class="learning-point">
                        <div class="learning-icon">‚úÖ</div>
                        <p>Different carriers create different types of echoes</p>
                    </div>
                    <div class="learning-point">
                        <div class="learning-icon">‚úÖ</div>
                        <p>You can predict echoes by understanding the formula</p>
                    </div>
                    <div class="learning-point">
                        <div class="learning-icon">‚úÖ</div>
                        <p>Choosing the right carrier is super important!</p>
                    </div>
                </div>

                <div class="next-preview">
                    <h3>üîÆ Coming Next: The Laws of Ripples</h3>
                    <p>Now that you know the formula, let's learn the secret rules that make ripples predictable!</p>
                </div>
            </section>
        </main>

        <footer>
            <div class="chapter-navigation">
                <a href="chapter1.html" class="nav-button prev">‚Üê Previous: The First Ripple</a>
                <a href="chapter3.html" class="nav-button next">Next: The Laws of Ripples ‚Üí</a>
            </div>
        </footer>
    </div>

    <script>
        // Game scenarios and logic
        const scenarios = [
            {
                story: "Lisa brings cookies to share with her class during lunch break.",
                correctCause: "Lisa brings cookies to share",
                correctCarrier: "Sharing with the class",
                correctEcho: "Everyone feels happy and included",
                options: {
                    cause: ["Lisa brings cookies to share", "It's lunch break", "Lisa is hungry"],
                    carrier: ["The lunch room", "Sharing with the class", "The cookies"],
                    echo: ["Everyone feels happy and included", "Lisa eats all the cookies", "The teacher gets angry"]
                }
            },
            {
                story: "Tom picks up trash in the playground without being asked.",
                correctCause: "Tom picks up trash",
                correctCarrier: "Others see his actions",
                correctEcho: "More kids start cleaning up too",
                options: {
                    cause: ["Tom picks up trash", "The playground is dirty", "It's recess time"],
                    carrier: ["The trash cans", "Others see his actions", "The playground"],
                    echo: ["More kids start cleaning up too", "Tom gets in trouble", "The trash disappears"]
                }
            },
            {
                story: "Sarah compliments her friend's new haircut and it makes her friend smile.",
                correctCause: "Sarah gives a compliment",
                correctCarrier: "Kind words",
                correctEcho: "Friend feels good and smiles",
                options: {
                    cause: ["Sarah gives a compliment", "Friend got a haircut", "They are friends"],
                    carrier: ["The haircut", "Kind words", "The mirror"],
                    echo: ["Friend feels good and smiles", "Friend gets another haircut", "Sarah gets a haircut too"]
                }
            }
        ];

        let currentScenario = 0;
        let selectedAnswers = { cause: "", carrier: "", echo: "" };
        let score = 0;
        let totalQuestions = 0;

        function loadScenario() {
            const scenario = scenarios[currentScenario];
            document.getElementById('current-scenario').innerHTML = `
                <div class="scenario-text">
                    <h4>Scenario ${currentScenario + 1}:</h4>
                    <p>${scenario.story}</p>
                </div>
            `;

            // Load options
            loadOptions('cause', scenario.options.cause);
            loadOptions('carrier', scenario.options.carrier);
            loadOptions('echo', scenario.options.echo);

            // Reset selections
            selectedAnswers = { cause: "", carrier: "", echo: "" };
            document.getElementById('game-feedback').innerHTML = "";
        }

        function loadOptions(type, options) {
            const container = document.getElementById(`${type}-options`);
            container.innerHTML = "";

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectAnswer(type, option, button);
                container.appendChild(button);
            });
        }

        function selectAnswer(type, answer, button) {
            // Remove previous selections
            const container = document.getElementById(`${type}-options`);
            container.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });

            // Select current answer
            button.classList.add('selected');
            selectedAnswers[type] = answer;
        }

        function checkAnswers() {
            if (!selectedAnswers.cause || !selectedAnswers.carrier || !selectedAnswers.echo) {
                alert("Please select an answer for each part!");
                return;
            }

            const scenario = scenarios[currentScenario];
            totalQuestions++;

            const isCorrect = 
                selectedAnswers.cause === scenario.correctCause &&
                selectedAnswers.carrier === scenario.correctCarrier &&
                selectedAnswers.echo === scenario.correctEcho;

            if (isCorrect) {
                score++;
                showFeedback("üéâ Perfect! You've mastered the formula!", "correct");
            } else {
                showFeedback("Not quite right. Let's see the correct answers:", "incorrect", scenario);
            }

            updateScore();
        }

        function showFeedback(message, type, scenario = null) {
            let feedback = `<div class="feedback ${type}">
                <h4>${message}</h4>`;

            if (scenario) {
                feedback += `
                    <div class="correct-answers">
                        <div class="correct-answer">
                            <strong>Correct CAUSE:</strong> ${scenario.correctCause}
                        </div>
                        <div class="correct-answer">
                            <strong>Correct CARRIER:</strong> ${scenario.correctCarrier}
                        </div>
                        <div class="correct-answer">
                            <strong>Correct ECHO:</strong> ${scenario.correctEcho}
                        </div>
                    </div>`;
            }

            feedback += `</div>`;
            document.getElementById('game-feedback').innerHTML = feedback;
        }

        function nextScenario() {
            currentScenario = (currentScenario + 1) % scenarios.length;
            loadScenario();
        }

        function updateScore() {
            document.getElementById('score-display').textContent = `Score: ${score}/${totalQuestions}`;
        }

        // Ripple builder
        function buildRipple() {
            const cause = document.getElementById('cause-selector').value;
            const carrier = document.getElementById('carrier-selector').value;
            const echoPrediction = document.getElementById('echo-prediction').value.trim();

            if (!cause || !carrier || !echoPrediction) {
                alert("Please complete all three steps!");
                return;
            }

            const causeTexts = {
                compliment: "Give someone a genuine compliment",
                help: "Help someone with a task",
                share: "Share something you love",
                teach: "Teach someone something new",
                listen: "Really listen to someone's story",
                create: "Create something beautiful"
            };

            const carrierTexts = {
                "face-to-face": "Face-to-face conversation",
                text: "Text message", 
                note: "Handwritten note",
                group: "In front of a group",
                social: "Social media post",
                action: "Through your actions"
            };

            const blueprint = `
                <div class="blueprint-container">
                    <h4>üéØ Your Personal Ripple Blueprint</h4>
                    <div class="blueprint-formula">
                        <div class="blueprint-part cause-part">
                            <div class="blueprint-icon">üéØ</div>
                            <div class="blueprint-label">CAUSE</div>
                            <div class="blueprint-text">${causeTexts[cause]}</div>
                        </div>
                        <div class="blueprint-arrow">‚Üí</div>
                        <div class="blueprint-part carrier-part">
                            <div class="blueprint-icon">üåä</div>
                            <div class="blueprint-label">CARRIER</div>
                            <div class="blueprint-text">${carrierTexts[carrier]}</div>
                        </div>
                        <div class="blueprint-arrow">‚Üí</div>
                        <div class="blueprint-part echo-part">
                            <div class="blueprint-icon">üé™</div>
                            <div class="blueprint-label">PREDICTED ECHO</div>
                            <div class="blueprint-text">${echoPrediction}</div>
                        </div>
                    </div>
                    <div class="blueprint-challenge">
                        <h5>üöÄ Your Mission:</h5>
                        <p>Try this ripple in real life and see if your prediction comes true! Come back and tell us what happened.</p>
                    </div>
                    <div class="blueprint-tip">
                        <h5>üí° Pro Tip:</h5>
                        <p>Remember - the same cause through different carriers often creates different echoes!</p>
                    </div>
                </div>
            `;

            document.getElementById('ripple-blueprint').innerHTML = blueprint;
            document.getElementById('ripple-blueprint').style.display = 'block';
        }

        // Initialize the game
        loadScenario();
    </script>

    <style>
        .formula-demo {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 3rem;
            border-radius: 20px;
            margin: 2rem 0;
            color: white;
        }

        .formula-parts {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .formula-part {
            background: rgba(255, 255, 255, 0.2);
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .part-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .formula-arrow {
            font-size: 3rem;
            font-weight: bold;
            color: #FFD700;
        }

        .formula-magic {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem 0;
            text-align: center;
            border: 3px solid #ff8c00;
        }

        .magic-highlight {
            background: rgba(255, 140, 0, 0.2);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            font-weight: bold;
            color: #E65100;
            font-size: 1.2em;
        }

        .breakdown-container {
            display: flex;
            flex-direction: column;
            gap: 3rem;
            margin: 2rem 0;
        }

        .breakdown-part {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .part-header {
            padding: 2rem;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .cause-section .part-header {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%);
        }

        .carrier-section .part-header {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .echo-section .part-header {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }

        .part-icon-large {
            font-size: 5rem;
            flex-shrink: 0;
        }

        .part-explanation {
            padding: 2rem;
        }

        .example-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .example-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
        }

        .important-note {
            background: rgba(33, 150, 243, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 4px solid #2196F3;
        }

        .story-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .story-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-top: 5px solid #FF6B6B;
        }

        .story-breakdown {
            margin: 1.5rem 0;
        }

        .story-cause, .story-carrier, .story-echo {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 0.5rem 0;
        }

        .story-cause {
            border-left: 4px solid #4CAF50;
        }

        .story-carrier {
            border-left: 4px solid #2196F3;
        }

        .story-echo {
            border-left: 4px solid #FF9800;
        }

        .story-result {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            font-weight: bold;
            color: #2E7D32;
        }

        .game-interface {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            padding: 3rem;
            border-radius: 20px;
            margin: 2rem 0;
            border: 3px solid #9C27B0;
        }

        .scenario-display {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .option-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0 2rem 0;
        }

        .option-btn {
            background: white;
            border: 2px solid #9C27B0;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover {
            background: #9C27B0;
            color: white;
            transform: translateY(-2px);
        }

        .option-btn.selected {
            background: #9C27B0;
            color: white;
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .check-answer-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            margin: 2rem 0;
        }

        .game-feedback {
            margin: 2rem 0;
        }

        .feedback {
            padding: 2rem;
            border-radius: 15px;
            margin: 1rem 0;
        }

        .feedback.correct {
            background: #e8f5e8;
            border-left: 5px solid #4CAF50;
        }

        .feedback.incorrect {
            background: #ffebee;
            border-left: 5px solid #f44336;
        }

        .correct-answers {
            margin-top: 1rem;
        }

        .correct-answer {
            background: rgba(76, 175, 80, 0.1);
            padding: 0.8rem;
            border-radius: 8px;
            margin: 0.5rem 0;
        }

        .game-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }

        .next-scenario-btn {
            background: #2196F3;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 20px;
            cursor: pointer;
        }

        .score-display {
            font-weight: bold;
            font-size: 1.2em;
            color: #4CAF50;
        }

        .carrier-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .carrier-type {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .carrier-type.fast {
            border-top: 5px solid #FFD700;
        }

        .carrier-type.medium {
            border-top: 5px solid #FF9800;
        }

        .carrier-type.slow {
            border-top: 5px solid #2196F3;
        }

        .carrier-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .carrier-examples {
            text-align: left;
            margin-top: 1rem;
        }

        .carrier-example {
            background: #f8f9fa;
            padding: 0.8rem;
            border-radius: 8px;
            margin: 0.5rem 0;
            border-left: 3px solid #4CAF50;
        }

        .carrier-insight {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem 0;
            border: 3px solid #2196F3;
        }

        .insight-list {
            margin-top: 1rem;
        }

        .insight-item {
            background: rgba(33, 150, 243, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin: 0.5rem 0;
            border-left: 4px solid #2196F3;
        }

        .ripple-builder {
            background: linear-gradient(135deg, #f1f8e9 0%, #dcedc8 100%);
            padding: 3rem;
            border-radius: 20px;
            margin: 2rem 0;
            border: 3px solid #4CAF50;
        }

        .builder-steps {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin: 2rem 0;
        }

        .builder-step {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .selector, .prediction-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #4CAF50;
            border-radius: 10px;
            font-size: 1em;
            margin-top: 1rem;
        }

        .prediction-input {
            min-height: 80px;
            resize: vertical;
        }

        .build-ripple-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            margin: 2rem auto;
            display: block;
        }

        .ripple-blueprint {
            display: none;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .blueprint-formula {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .blueprint-part {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            border-top: 4px solid #4CAF50;
        }

        .blueprint-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .blueprint-label {
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 0.5rem;
        }

        .blueprint-arrow {
            font-size: 2rem;
            color: #4CAF50;
            font-weight: bold;
        }

        .blueprint-challenge, .blueprint-tip {
            background: rgba(76, 175, 80, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border-left: 4px solid #4CAF50;
        }

        .summary-formula {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 3rem;
            border-radius: 20px;
            color: white;
            margin: 2rem 0;
        }

        .formula-recap {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .recap-part {
            background: rgba(255, 255, 255, 0.2);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .recap-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .recap-arrow {
            font-size: 2.5rem;
            font-weight: bold;
            color: #FFD700;
        }

        .key-learnings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .learning-point {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #4CAF50;
        }

        .learning-icon {
            font-size: 1.5rem;
            color: #4CAF50;
        }

        .next-preview {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem 0;
            border: 3px solid #FF69B4;
        }

        @media (max-width: 768px) {
            .formula-parts {
                flex-direction: column;
            }

            .formula-arrow {
                transform: rotate(90deg);
            }

            .breakdown-container {
                gap: 2rem;
            }

            .part-header {
                flex-direction: column;
                text-align: center;
            }

            .story-cards {
                grid-template-columns: 1fr;
            }

            .blueprint-formula {
                flex-direction: column;
            }

            .blueprint-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</body>
</html>